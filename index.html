<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Strategia V1.4.5</title>
    <style>
        :root { 
            --bg: #020408; --theme: #00d2ff; --panel: rgba(10, 15, 25, 0.9);
            --glass: rgba(255, 255, 255, 0.05); --green: #39d353;
            --red: #ff3e3e; --purple: #bc8cff;
        }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; overflow: hidden; height: 100vh; }
        #bg-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: radial-gradient(circle at center, #0a1020 0%, #020408 100%); }
        #main-menu { 
            position: fixed; width: 100%; height: 100%; 
            display: flex; flex-direction: column; align-items: center; justify-content: center; 
            z-index: 100; transition: 0.8s; backdrop-filter: blur(15px);
        }
        .logo { font-size: 45px; font-weight: 900; color: var(--theme); text-shadow: 0 0 30px var(--theme); margin-bottom: 20px; letter-spacing: 8px; }
        .lang-box { margin-bottom: 20px; display: flex; gap: 10px; }
        .lang-btn { background: none; border: 1px solid white; color: white; padding: 5px 15px; border-radius: 5px; cursor: pointer; opacity: 0.6; }
        .lang-active { opacity: 1; border-color: var(--theme); color: var(--theme); box-shadow: 0 0 10px var(--theme); }
                .faction-list { display: flex; gap: 10px; margin-bottom: 30px; }
        .f-card { 
            width: 90px; padding: 15px 5px; border: 1px solid rgba(255,255,255,0.1); 
            border-radius: 15px; text-align: center; cursor: pointer; transition: 0.4s; background: var(--glass);
        }
        .f-card i { display: block; font-size: 25px; margin-bottom: 5px; }
        .f-active { border-color: var(--theme); box-shadow: 0 0 20px var(--theme); transform: translateY(-5px); }
        .btn-menu { 
            width: 260px; padding: 18px; border: 2px solid var(--theme); 
            background: none; color: white; border-radius: 50px; cursor: pointer; font-weight: bold;
        }
                #game-ui { display: none; height: 100vh; flex-direction: column; }
        .top-bar { display: grid; grid-template-columns: repeat(4, 1fr); padding: 12px; background: var(--panel); border-bottom: 3px solid var(--theme); }
        .stat { text-align: center; }
        .val { font-size: 16px; font-weight: bold; color: var(--theme); }
        .map { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; padding: 15px; margin: auto; }
        .tile { aspect-ratio: 1/1; border: 2px solid rgba(255,255,255,0.1); border-radius: 20px; display: flex; align-items: center; justify-content: center; cursor: pointer; }
        .player { border: 3px solid var(--green) !important; box-shadow: 0 0 15px rgba(57,211,83,0.3); }
        .under-attack { animation: pulse-red 0.5s infinite; }
        @keyframes pulse-red { 50% { background: rgba(255, 62, 62, 0.4); } }
        .controls { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; padding: 20px; background: var(--panel); }
    </style>
</head>
<body>
    <canvas id="bg-canvas"></canvas>
    <div id="main-menu">
        <div class="logo">STRATEGIA</div>
        <div class="lang-box">
            <button class="lang-btn lang-active" onclick="setLang('az', this)">AZ</button>
            <button class="lang-btn" onclick="setLang('en', this)">EN</button>
        </div>
        <div class="faction-list">
            <div class="f-card f-active" onclick="setFaction('techno', this)" style="--theme: #bc8cff"><i>‚öõÔ∏è</i><b class="t-fn1">TEXNO</b><span class="t-fd1">ELM x2</span></div>
            <div class="f-card" onclick="setFaction('legion', this)" style="--theme: #ff3e3e"><i>‚öîÔ∏è</i><b class="t-fn2">LEGƒ∞ON</b><span class="t-fd2">TANK +50%</span></div>
            <div class="f-card" onclick="setFaction('gold', this)" style="--theme: #ffd700"><i>üí∞</i><b class="t-fn3">XANLIQ</b><span class="t-fd3">QIZIL x2</span></div>
        </div>
        <button class="btn-menu t-start" onclick="startGame()">Sƒ∞STEMƒ∞ BA≈ûLAT</button>
    </div>
        <div id="game-ui">
        <div class="top-bar">
            <div class="stat"><span class="t-gold">QIZIL</span><span id="vG" class="val">100</span></div>
            <div class="stat"><span class="t-inf">Pƒ∞YADA</span><span id="vI" class="val">0</span></div>
            <div class="stat"><span class="t-tank">TANK</span><span id="vT" class="val">0</span></div>
            <div class="stat"><span class="t-sci">ELM</span><span id="vS" class="val">0</span></div>
        </div>
        <div id="msg" style="text-align:center; padding:10px; color:var(--theme); font-weight:bold; height:20px;">READY</div>
        <div class="map" id="mapContainer"></div>
        <div class="controls">
            <button class="act-btn t-bI" onclick="buyInf()">+ Pƒ∞YADA</button>
            <button class="act-btn t-bT" onclick="buyTank()">+ TANK</button>
            <button class="act-btn t-bS" style="border-color: var(--purple)" onclick="upTech()">ELM L1</button>
        </div>
    </div>
    <div class="version-tag">V1.4.5</div>
    <script>
    let lang = 'az', faction = 'techno', gold = 100, inf = 0, tanks = 0, sci = 0, provs = 1, tech = 1;

    const dict = {
        az: { start: "Sƒ∞STEMƒ∞ BA≈ûLAT", fn1: "TEXNO", fd1: "ELM x2", fn2: "LEGƒ∞ON", fd2: "TANK +50%", fn3: "XANLIQ", fd3: "QIZIL x2", gold: "QIZIL", inf: "Pƒ∞YADA", tank: "TANK", sci: "ELM", bI: "+ Pƒ∞YADA", bT: "+ TANK", bS: "ELM L", low: "G√úC AZDIR", win: "Z∆èF∆èR!", lost: "ZONA ƒ∞Tƒ∞Rƒ∞LDƒ∞!", def: "D∆èF EDƒ∞LDƒ∞!", ready: "∆èMR G√ñZL∆èNƒ∞Lƒ∞R..." },
        en: { start: "START SYSTEM", fn1: "TECHNO", fd1: "SCI x2", fn2: "LEGION", fd2: "TANK +50%", fn3: "KHANATE", fd3: "GOLD x2", gold: "GOLD", inf: "INFANTRY", tank: "TANK", sci: "SCIENCE", bI: "+ INFANTRY", bT: "+ TANK", bS: "TECH L", low: "LOW POWER", win: "VICTORY!", lost: "ZONE LOST!", def: "DEFENDED!", ready: "AWAITING ORDERS..." }
    };
         const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.onresize = resize; resize();

    function drawBg() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.strokeStyle = (faction === 'techno' ? '#bc8cff' : (faction === 'legion' ? '#ff3e3e' : '#ffd700')) + "15"; 
        const size = 60;
        for(let x=0; x<canvas.width; x+=size) for(let y=0; y<canvas.height; y+=size) ctx.strokeRect(x, y, size, size);
        requestAnimationFrame(drawBg);
    }
    drawBg();
        
